{"version":3,"sources":["webpack:///./src/views/Orders.vue","webpack:///./src/components/NewOrderModal.vue","webpack:///./src/components/NewOrderModal.vue?cac6","webpack:///./src/views/Orders.vue?2899","webpack:///./src/components/DeleteModal.vue","webpack:///./src/components/DeleteModal.vue?cdd3"],"names":["class","colspan","orders","length","order","key","id","create_at","user","email","products","product","title","qty","unit","total","is_paid","openOrderModal","openDeleteModal","pagination","getOrder","ref","data","tempOrder","status","delStatus","tabindex","type","data-bs-dismiss","aria-label","style","for","name","tel","address","temp","paid_date","item","final_total","Date","getTime","changeOrder","props","Object","default","modal","watch","this","methods","openModal","show","closeModal","hide","api","$http","put","then","res","console","log","success","alert","message","$emit","catch","err","mounted","$refs","orderModal","render","components","DeleteModal","Pagination","OrderModal","page","get","deleteModal","openDelete","role","aria-labelledby","aria-hidden","delData","deleteData","String","required","delApi","hideDelete","delete"],"mappings":"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","file":"js/chunk-0fbc0486.d0533fad.js","sourcesContent":["<template>\r\n  <div class=\"container\">\r\n    <section class=\"topic\">\r\n      <h2>訂單頁面</h2>\r\n      <table class=\"table mt-4\">\r\n        <thead>\r\n          <tr>\r\n            <th>購買時間</th>\r\n            <th>Email</th>\r\n            <th>購買款項</th>\r\n            <th>應付金額</th>\r\n            <th>是否付款</th>\r\n            <th>編輯</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr v-if=\"orders.length === 0\" class=\"noProduct\">\r\n            <td colspan=\"6\">未有訂單</td>\r\n          </tr>\r\n          <template v-else>\r\n            <tr v-for=\"order in orders\" :key=\"order.id\">\r\n              <td>{{ order.create_at }}</td>\r\n              <td><span>{{ order.user.email }}</span></td>\r\n              <td>\r\n                <ul class=\"list-unstyled\">\r\n                  <li v-for=\"product in order.products\" :key=\"product.id\">\r\n                    {{ product.product.title }} 數量：{{ product.qty }}\r\n                    {{ product.product.unit }}\r\n                  </li>\r\n                </ul>\r\n              </td>\r\n              <td class=\"text-right\">{{ order.total }}</td>\r\n              <td>\r\n                <div class=\"switch-group\">\r\n                  <div class=\"switch\" :class=\"{ 'open': order.is_paid }\">\r\n                    <div class=\"switch-circle\"></div>\r\n                  </div>\r\n                </div>\r\n                <label>\r\n                  <span v-if=\"order.is_paid\">已付款</span>\r\n                  <span v-else>未付款</span>\r\n                </label>\r\n              </td>\r\n              <td>\r\n                <div class=\"btn-group\">\r\n                  <button\r\n                    class=\"btn btn-outline-primary btn-sm\"\r\n                    @click=\"openOrderModal(order)\"\r\n                  >\r\n                    檢視\r\n                  </button>\r\n                  <button\r\n                    class=\"btn btn-outline-danger btn-sm\"\r\n                    @click=\"openDeleteModal('order', order)\"\r\n                  >\r\n                    刪除\r\n                  </button>\r\n                </div>\r\n              </td>\r\n            </tr>\r\n          </template>\r\n        </tbody>\r\n      </table>\r\n    </section>\r\n    <div class=\"d-flex justify-content-center\">\r\n      <Pagination :pagination=\"pagination\" @page=\"getOrder\"></Pagination>\r\n    </div>\r\n  </div>\r\n  <DeleteModal\r\n        ref=\"deleteModal\"\r\n        :data=\"tempOrder\"\r\n        :status=\"delStatus\"\r\n        @delData=\"getOrder\"\r\n  ></DeleteModal>\r\n  <OrderModal\r\n        ref=\"orderModal\"\r\n        :order=\"tempOrder\"\r\n        @changeOrder=\"getOrder\"\r\n  ></OrderModal>\r\n</template>\r\n\r\n<script>\r\nimport DeleteModal from '../components/DeleteModal.vue'\r\nimport Pagination from '../components/Pagination.vue'\r\nimport OrderModal from '../components/NewOrderModal.vue'\r\nexport default {\r\n  components: {\r\n    DeleteModal,\r\n    Pagination,\r\n    OrderModal\r\n  },\r\n  data () {\r\n    return {\r\n      orders: [],\r\n      delStatus: '',\r\n      tempOrder: {},\r\n      pagination: {}\r\n    }\r\n  },\r\n  methods: {\r\n    // 取得訂單\r\n    getOrder (page = 1) {\r\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/orders?page=${page}`\r\n      this.$http.get(api).then((res) => {\r\n        // console.log(res)\r\n        if (res.data.success) {\r\n          this.orders = res.data.orders\r\n          this.pagination = res.data.pagination\r\n        }\r\n      }).catch((err) => {\r\n        console.log(err)\r\n      })\r\n    },\r\n    // 訂單細節Modal\r\n    openOrderModal (order) {\r\n      this.tempOrder = { ...order }\r\n      this.$refs.orderModal.openModal()\r\n    },\r\n    // 刪除訂單Modal\r\n    openDeleteModal (status, order) {\r\n      this.tempOrder = { ...order }\r\n      this.delStatus = status\r\n      this.$refs.deleteModal.openDelete()\r\n    }\r\n  },\r\n  mounted () {\r\n    this.getOrder()\r\n  }\r\n}\r\n</script>\r\n","<template>\r\n  <div ref=\"orderModal\" class=\"modal fade\" tabindex=\"-1\">\r\n    <div class=\"modal-dialog modal-xl\">\r\n      <div class=\"modal-content\">\r\n        <div class=\"modal-header bg-block\">\r\n          <h5 class=\"modal-title text-white fw-bolder\">訂單資料</h5>\r\n          <button\r\n            type=\"button\"\r\n            class=\"btn-close\"\r\n            data-bs-dismiss=\"modal\"\r\n            aria-label=\"Close\"\r\n          ></button>\r\n        </div>\r\n        <div class=\"modal-body\">\r\n          <div class=\"row\">\r\n              <div class=\"col-md-4\">\r\n                <h3>用戶資料</h3>\r\n                <table class=\"table\">\r\n                  <tbody>\r\n                    <tr>\r\n                        <th style=\"width: 100px\">姓名</th>\r\n                        <td>{{ user.name }}</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <th>Email</th>\r\n                        <td>{{ user.email }}</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <th>電話</th>\r\n                        <td>{{ user.tel }}</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <th>地址</th>\r\n                        <td>{{ user.address }}</td>\r\n                    </tr>\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n              <div class=\"col-md-8\">\r\n                <h3>訂單細節</h3>\r\n                <table class=\"table\">\r\n                  <tbody>\r\n                    <tr>\r\n                      <th style=\"width: 100px\">訂單編號</th>\r\n                      <td>{{ temp.id }}</td>\r\n                    </tr>\r\n                    <tr>\r\n                      <th>下單時間</th>\r\n                      <td>{{ temp.create_at }}</td>\r\n                    </tr>\r\n                    <tr>\r\n                      <th>付款時間</th>\r\n                      <td>\r\n                        <span v-if=\"temp.is_paid\">\r\n                            {{ temp.paid_date }}\r\n                        </span>\r\n                        <span v-else>尚未付款</span>\r\n                      </td>\r\n                    </tr>\r\n                    <tr>\r\n                      <th>付款狀態</th>\r\n                      <td>\r\n                        <strong v-if=\"temp.is_paid\" class=\"text-success\"\r\n                        >已付款</strong>\r\n                        <span v-else class=\"text-muted\">尚未付款</span>\r\n                      </td>\r\n                    </tr>\r\n                    <tr>\r\n                        <th>總金額</th>\r\n                        <td>\r\n                        {{ temp.total }}\r\n                        </td>\r\n                    </tr>\r\n                  </tbody>\r\n                </table>\r\n                <h3>選購商品</h3>\r\n                <table class=\"table\">\r\n                  <thead>\r\n                    <tr></tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    <tr v-for=\"item in products\" :key=\"item.id\">\r\n                      <th>\r\n                        {{ item.product.title }}\r\n                      </th>\r\n                      <td>{{ item.qty }} / {{ item.product.unit }}</td>\r\n                      <td class=\"text-end\">\r\n                        {{ item.final_total }}\r\n                      </td>\r\n                    </tr>\r\n                  </tbody>\r\n                </table>\r\n                <div class=\"d-flex justify-content-end\">\r\n                  <div class=\"form-check\">\r\n                    <input\r\n                        class=\"form-check-input\"\r\n                        type=\"checkbox\"\r\n                        id=\"flexCheckDefault\"\r\n                        v-model=\"temp.is_paid\"\r\n                        @click=\"temp.paid_date = new Date().getTime() / 1000\"\r\n                    />\r\n                    <label class=\"form-check-label\" for=\"flexCheckDefault\">\r\n                        <span v-if=\"temp.is_paid\">已付款</span>\r\n                        <span v-else>未付款</span>\r\n                    </label>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"modal-footer\">\r\n          <button\r\n            type=\"button\"\r\n            class=\"btn btn-secondary\"\r\n            data-bs-dismiss=\"modal\"\r\n          >\r\n            取消\r\n          </button>\r\n          <button type=\"button\" class=\"btn btn-primary\"\r\n                  @click=\"changeOrder(temp.id)\"\r\n          >修改付款狀態</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Modal from 'bootstrap/js/dist/modal'\r\nexport default {\r\n  props: {\r\n    order: {\r\n      type: Object,\r\n      default () {\r\n        return {}\r\n      }\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      modal: '',\r\n      temp: {},\r\n      user: {},\r\n      products: {}\r\n    }\r\n  },\r\n  watch: {\r\n    order () {\r\n      this.temp = this.order\r\n      this.user = this.order.user\r\n      this.products = this.order.products\r\n    }\r\n  },\r\n  methods: {\r\n    // 開啟 Modal\r\n    openModal () {\r\n      this.modal.show()\r\n    },\r\n    // 關閉 Modal\r\n    closeModal () {\r\n      this.modal.hide()\r\n    },\r\n    // 修改訂單\r\n    changeOrder (id) {\r\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/order/${id}`\r\n      this.$http.put(api, { data: this.temp }).then((res) => {\r\n        console.log(res)\r\n        if (res.data.success) {\r\n          alert(res.data.message)\r\n          this.$emit('changeOrder')\r\n          this.closeModal()\r\n        } else {\r\n          alert(res.data.message)\r\n        }\r\n      }).catch((err) => {\r\n        console.log(err)\r\n      })\r\n    }\r\n  },\r\n  mounted () {\r\n    this.modal = new Modal(this.$refs.orderModal)\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./NewOrderModal.vue?vue&type=template&id=2d7475f6\"\nimport script from \"./NewOrderModal.vue?vue&type=script&lang=js\"\nexport * from \"./NewOrderModal.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { render } from \"./Orders.vue?vue&type=template&id=dc2611a8\"\nimport script from \"./Orders.vue?vue&type=script&lang=js\"\nexport * from \"./Orders.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\r\n  <div\r\n    class=\"modal fade\"\r\n    id=\"delModal\"\r\n    tabindex=\"-1\"\r\n    role=\"dialog\"\r\n    aria-labelledby=\"exampleModalLabel\"\r\n    aria-hidden=\"true\"\r\n    ref=\"modal\"\r\n  >\r\n    <div class=\"modal-dialog\" role=\"document\">\r\n      <div class=\"modal-content border-0\">\r\n        <div class=\"modal-header bg-danger text-white\">\r\n          <h5 class=\"modal-title\">\r\n            <span v-if=\"delStatus === 'product'\">刪除 {{ delData.title }}</span>\r\n            <span v-else>刪除訂單</span>\r\n          </h5>\r\n          <button\r\n            type=\"button\"\r\n            class=\"btn-close\"\r\n            data-bs-dismiss=\"modal\"\r\n            aria-label=\"Close\"\r\n          ></button>\r\n        </div>\r\n        <div class=\"modal-body\">\r\n          是否刪除\r\n          <strong v-if=\"delStatus === 'product'\" class=\"text-danger\">{{ delData.title }}</strong>\r\n          <strong v-else class=\"text-danger\">{{ delData.id }} 此訂單</strong>\r\n          (刪除後將無法恢復)。\r\n        </div>\r\n        <div class=\"modal-footer\">\r\n          <button\r\n            type=\"button\"\r\n            class=\"btn btn-outline-secondary\"\r\n            data-bs-dismiss=\"modal\"\r\n          >\r\n            取消\r\n          </button>\r\n          <button\r\n            type=\"button\"\r\n            class=\"btn btn-danger\"\r\n            @click=\"deleteData(delData.id)\"\r\n          >\r\n            確認刪除\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Modal from 'bootstrap/js/dist/modal'\r\nexport default {\r\n  props: {\r\n    data: {\r\n      type: Object,\r\n      default () {\r\n        return {}\r\n      }\r\n    },\r\n    status: {\r\n      type: String,\r\n      required: true\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      modal: '',\r\n      delStatus: '',\r\n      delApi: '',\r\n      delData: {}\r\n    }\r\n  },\r\n  watch: {\r\n    data () {\r\n      this.delData = this.data\r\n    },\r\n    status () {\r\n      this.delStatus = this.status\r\n    }\r\n  },\r\n  methods: {\r\n    // 開啟 delModal\r\n    openDelete () {\r\n      this.modal.show()\r\n    },\r\n    // 關閉 delModal\r\n    hideDelete () {\r\n      this.modal.hide()\r\n    },\r\n    // 產品刪除\r\n    deleteData (id) {\r\n      if (this.delStatus === 'product') {\r\n        this.delApi = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/product/${id}`\r\n      } else if (this.delStatus === 'order') {\r\n        this.delApi = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/order/${id}`\r\n      }\r\n      const api = this.delApi\r\n      this.$http.delete(api).then((res) => {\r\n        // console.log(res)\r\n        if (res.data.success) {\r\n          alert(res.data.message)\r\n          this.$emit('delData')\r\n          this.hideDelete()\r\n        } else {\r\n          alert(res.data.message)\r\n        }\r\n      }).catch((err) => {\r\n        console.log(err)\r\n      })\r\n    }\r\n  },\r\n  mounted () {\r\n    this.modal = new Modal(this.$refs.modal)\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./DeleteModal.vue?vue&type=template&id=903febe6\"\nimport script from \"./DeleteModal.vue?vue&type=script&lang=js\"\nexport * from \"./DeleteModal.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}