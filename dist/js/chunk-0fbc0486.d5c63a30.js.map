{"version":3,"sources":["webpack:///./src/views/Orders.vue","webpack:///./src/components/NewOrderModal.vue","webpack:///./src/components/NewOrderModal.vue?cac6","webpack:///./src/views/Orders.vue?2899","webpack:///./src/components/DeleteModal.vue","webpack:///./src/components/DeleteModal.vue?cdd3"],"names":["class","colspan","orders","length","order","key","id","dateFormat","create_at","user","email","products","product","title","qty","unit","total","is_paid","openOrderModal","openDeleteModal","pagination","getOrder","ref","data","tempOrder","status","delStatus","tabindex","type","data-bs-dismiss","aria-label","style","for","name","tel","address","temp","paid_date","item","final_total","Date","getTime","changeOrder","props","Object","default","modal","watch","this","console","log","methods","openModal","show","closeModal","hide","api","$http","put","then","res","success","alert","message","$emit","catch","err","dateAndTime","toISOString","substr","mounted","$refs","orderModal","render","components","DeleteModal","Pagination","OrderModal","inject","page","get","deleteModal","openDelete","role","aria-labelledby","aria-hidden","delData","deleteData","String","required","delApi","hideDelete","delete"],"mappings":"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","file":"js/chunk-0fbc0486.d5c63a30.js","sourcesContent":["<template>\r\n  <div class=\"container\">\r\n    <section class=\"topic\">\r\n      <h2>訂單頁面</h2>\r\n      <table class=\"table mt-4\">\r\n        <thead>\r\n          <tr>\r\n            <th>購買時間</th>\r\n            <th>Email</th>\r\n            <th>購買款項</th>\r\n            <th>應付金額</th>\r\n            <th>是否付款</th>\r\n            <th>編輯</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr v-if=\"orders.length === 0\" class=\"noProduct\">\r\n            <td colspan=\"6\">未有訂單</td>\r\n          </tr>\r\n          <template v-else>\r\n            <tr v-for=\"order in orders\" :key=\"order.id\">\r\n              <td>{{ `${dateFormat(order.create_at)}` }}</td>\r\n              <td><span>{{ order.user.email }}</span></td>\r\n              <td>\r\n                <ul class=\"list-unstyled\">\r\n                  <li v-for=\"product in order.products\" :key=\"product.id\">\r\n                    {{ product.product.title }} 數量：{{ product.qty }}\r\n                    {{ product.product.unit }}\r\n                  </li>\r\n                </ul>\r\n              </td>\r\n              <td class=\"text-right\">{{ order.total }}</td>\r\n              <td>\r\n                <div class=\"switch-group\">\r\n                  <div class=\"switch\" :class=\"{ 'open': order.is_paid }\">\r\n                    <div class=\"switch-circle\"></div>\r\n                  </div>\r\n                </div>\r\n                <label>\r\n                  <span v-if=\"order.is_paid\">已付款</span>\r\n                  <span v-else>未付款</span>\r\n                </label>\r\n              </td>\r\n              <td>\r\n                <div class=\"btn-group\">\r\n                  <button\r\n                    class=\"btn btn-outline-primary btn-sm\"\r\n                    @click=\"openOrderModal(order)\"\r\n                  >\r\n                    檢視\r\n                  </button>\r\n                  <button\r\n                    class=\"btn btn-outline-danger btn-sm\"\r\n                    @click=\"openDeleteModal('order', order)\"\r\n                  >\r\n                    刪除\r\n                  </button>\r\n                </div>\r\n              </td>\r\n            </tr>\r\n          </template>\r\n        </tbody>\r\n      </table>\r\n    </section>\r\n    <div class=\"d-flex justify-content-center\">\r\n      <Pagination :pagination=\"pagination\" @page=\"getOrder\"></Pagination>\r\n    </div>\r\n  </div>\r\n  <DeleteModal\r\n        ref=\"deleteModal\"\r\n        :data=\"tempOrder\"\r\n        :status=\"delStatus\"\r\n        @delData=\"getOrder\"\r\n  ></DeleteModal>\r\n  <OrderModal\r\n        ref=\"orderModal\"\r\n        :order=\"tempOrder\"\r\n        @changeOrder=\"getOrder\"\r\n  ></OrderModal>\r\n</template>\r\n\r\n<script>\r\nimport DeleteModal from '../components/DeleteModal.vue'\r\nimport Pagination from '../components/Pagination.vue'\r\nimport OrderModal from '../components/NewOrderModal.vue'\r\nexport default {\r\n  components: {\r\n    DeleteModal,\r\n    Pagination,\r\n    OrderModal\r\n  },\r\n  inject: ['dateFormat'],\r\n  data () {\r\n    return {\r\n      orders: [],\r\n      delStatus: '',\r\n      tempOrder: {},\r\n      pagination: {}\r\n    }\r\n  },\r\n  methods: {\r\n    // 取得訂單\r\n    getOrder (page = 1) {\r\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/orders?page=${page}`\r\n      this.$http.get(api).then((res) => {\r\n        // console.log(res)\r\n        if (res.data.success) {\r\n          this.orders = res.data.orders\r\n          this.pagination = res.data.pagination\r\n        }\r\n      }).catch((err) => {\r\n        console.log(err)\r\n      })\r\n    },\r\n    // 訂單細節Modal\r\n    openOrderModal (order) {\r\n      this.tempOrder = { ...order }\r\n      this.$refs.orderModal.openModal()\r\n    },\r\n    // 刪除訂單Modal\r\n    openDeleteModal (status, order) {\r\n      this.tempOrder = { ...order }\r\n      this.delStatus = status\r\n      this.$refs.deleteModal.openDelete()\r\n    }\r\n  },\r\n  mounted () {\r\n    this.getOrder()\r\n  }\r\n}\r\n</script>\r\n","<template>\r\n  <div ref=\"orderModal\" class=\"modal fade\" tabindex=\"-1\">\r\n    <div class=\"modal-dialog modal-xl\">\r\n      <div class=\"modal-content\">\r\n        <div class=\"modal-header bg-block\">\r\n          <h5 class=\"modal-title text-white fw-bolder\">訂單資料</h5>\r\n          <button\r\n            type=\"button\"\r\n            class=\"btn-close\"\r\n            data-bs-dismiss=\"modal\"\r\n            aria-label=\"Close\"\r\n          ></button>\r\n        </div>\r\n        <div class=\"modal-body\">\r\n          <div class=\"row\">\r\n              <div class=\"col-md-4\">\r\n                <h3>用戶資料</h3>\r\n                <table class=\"table\">\r\n                  <tbody>\r\n                    <tr>\r\n                        <th style=\"width: 100px\">姓名</th>\r\n                        <td>{{ user.name }}</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <th>Email</th>\r\n                        <td>{{ user.email }}</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <th>電話</th>\r\n                        <td>{{ user.tel }}</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <th>地址</th>\r\n                        <td>{{ user.address }}</td>\r\n                    </tr>\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n              <div class=\"col-md-8\">\r\n                <h3>訂單細節</h3>\r\n                <table class=\"table\">\r\n                  <tbody>\r\n                    <tr>\r\n                      <th style=\"width: 100px\">訂單編號</th>\r\n                      <td>{{ temp.id }}</td>\r\n                    </tr>\r\n                    <tr>\r\n                      <th>下單時間</th>\r\n                      <td>{{ temp.create_at }}</td>\r\n                    </tr>\r\n                    <tr>\r\n                      <th>付款時間</th>\r\n                      <td>\r\n                        <span v-if=\"temp.is_paid\">\r\n                            {{ temp.paid_date }}\r\n                        </span>\r\n                        <span v-else>尚未付款</span>\r\n                      </td>\r\n                    </tr>\r\n                    <tr>\r\n                      <th>付款狀態</th>\r\n                      <td>\r\n                        <strong v-if=\"temp.is_paid\" class=\"text-success\"\r\n                        >已付款</strong>\r\n                        <span v-else class=\"text-muted\">尚未付款</span>\r\n                      </td>\r\n                    </tr>\r\n                    <tr>\r\n                        <th>總金額</th>\r\n                        <td>\r\n                        {{ temp.total }}\r\n                        </td>\r\n                    </tr>\r\n                  </tbody>\r\n                </table>\r\n                <h3>選購商品</h3>\r\n                <table class=\"table\">\r\n                  <thead>\r\n                    <tr></tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    <tr v-for=\"item in products\" :key=\"item.id\">\r\n                      <th>\r\n                        {{ item.product.title }}\r\n                      </th>\r\n                      <td>{{ item.qty }} / {{ item.product.unit }}</td>\r\n                      <td class=\"text-end\">\r\n                        {{ item.final_total }}\r\n                      </td>\r\n                    </tr>\r\n                  </tbody>\r\n                </table>\r\n                <div class=\"d-flex justify-content-end\">\r\n                  <div class=\"form-check\">\r\n                    <input\r\n                        class=\"form-check-input\"\r\n                        type=\"checkbox\"\r\n                        id=\"flexCheckDefault\"\r\n                        v-model=\"temp.is_paid\"\r\n                        @click=\"temp.paid_date = new Date().getTime() / 1000\"\r\n                    />\r\n                    <label class=\"form-check-label\" for=\"flexCheckDefault\">\r\n                        <span v-if=\"temp.is_paid\">已付款</span>\r\n                        <span v-else>未付款</span>\r\n                    </label>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"modal-footer\">\r\n          <button\r\n            type=\"button\"\r\n            class=\"btn btn-secondary\"\r\n            data-bs-dismiss=\"modal\"\r\n          >\r\n            取消\r\n          </button>\r\n          <button type=\"button\" class=\"btn btn-primary\"\r\n                  @click=\"changeOrder(temp.id)\"\r\n          >修改付款狀態</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Modal from 'bootstrap/js/dist/modal'\r\nexport default {\r\n  props: {\r\n    order: {\r\n      type: Object,\r\n      default () {\r\n        return {}\r\n      }\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      modal: '',\r\n      temp: {},\r\n      user: {},\r\n      products: {}\r\n    }\r\n  },\r\n  watch: {\r\n    order () {\r\n      this.temp = this.order\r\n      this.temp.create_at = this.dateFormat(this.temp.create_at)\r\n      this.user = this.order.user\r\n      this.products = this.order.products\r\n      console.log(this.temp)\r\n    }\r\n  },\r\n  methods: {\r\n    // 開啟 Modal\r\n    openModal () {\r\n      this.modal.show()\r\n    },\r\n    // 關閉 Modal\r\n    closeModal () {\r\n      this.modal.hide()\r\n    },\r\n    // 修改訂單\r\n    changeOrder (id) {\r\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/order/${id}`\r\n      this.$http.put(api, { data: this.temp }).then((res) => {\r\n        console.log(res)\r\n        if (res.data.success) {\r\n          alert(res.data.message)\r\n          this.$emit('changeOrder')\r\n          this.closeModal()\r\n        } else {\r\n          alert(res.data.message)\r\n        }\r\n      }).catch((err) => {\r\n        console.log(err)\r\n      })\r\n    },\r\n    // 時間格式轉換\r\n    dateFormat (data) {\r\n      // 將時間格式改為 YYYY-MM-DD\r\n      const dateAndTime = new Date(data * 1000).toISOString().substr(0, 10)\r\n      return dateAndTime\r\n      // toISOString() 轉換時間格式為 YYYY-MM-DD\r\n      // substr(a, b) 取要顯示的字數，參數 a 為起始位子、參數 b 為要顯示的字數\r\n    }\r\n  },\r\n  mounted () {\r\n    this.modal = new Modal(this.$refs.orderModal)\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./NewOrderModal.vue?vue&type=template&id=e38851fe\"\nimport script from \"./NewOrderModal.vue?vue&type=script&lang=js\"\nexport * from \"./NewOrderModal.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { render } from \"./Orders.vue?vue&type=template&id=32e3b38c\"\nimport script from \"./Orders.vue?vue&type=script&lang=js\"\nexport * from \"./Orders.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\r\n  <div\r\n    class=\"modal fade\"\r\n    id=\"delModal\"\r\n    tabindex=\"-1\"\r\n    role=\"dialog\"\r\n    aria-labelledby=\"exampleModalLabel\"\r\n    aria-hidden=\"true\"\r\n    ref=\"modal\"\r\n  >\r\n    <div class=\"modal-dialog\" role=\"document\">\r\n      <div class=\"modal-content border-0\">\r\n        <div class=\"modal-header bg-danger text-white\">\r\n          <h5 class=\"modal-title\">\r\n            <span v-if=\"delStatus === 'product'\">刪除 {{ delData.title }}</span>\r\n            <span v-else>刪除訂單</span>\r\n          </h5>\r\n          <button\r\n            type=\"button\"\r\n            class=\"btn-close\"\r\n            data-bs-dismiss=\"modal\"\r\n            aria-label=\"Close\"\r\n          ></button>\r\n        </div>\r\n        <div class=\"modal-body\">\r\n          是否刪除\r\n          <strong v-if=\"delStatus === 'product'\" class=\"text-danger\">{{ delData.title }}</strong>\r\n          <strong v-else class=\"text-danger\">{{ delData.id }} 此訂單</strong>\r\n          (刪除後將無法恢復)。\r\n        </div>\r\n        <div class=\"modal-footer\">\r\n          <button\r\n            type=\"button\"\r\n            class=\"btn btn-outline-secondary\"\r\n            data-bs-dismiss=\"modal\"\r\n          >\r\n            取消\r\n          </button>\r\n          <button\r\n            type=\"button\"\r\n            class=\"btn btn-danger\"\r\n            @click=\"deleteData(delData.id)\"\r\n          >\r\n            確認刪除\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Modal from 'bootstrap/js/dist/modal'\r\nexport default {\r\n  props: {\r\n    data: {\r\n      type: Object,\r\n      default () {\r\n        return {}\r\n      }\r\n    },\r\n    status: {\r\n      type: String,\r\n      required: true\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      modal: '',\r\n      delStatus: '',\r\n      delApi: '',\r\n      delData: {}\r\n    }\r\n  },\r\n  watch: {\r\n    data () {\r\n      this.delData = this.data\r\n    },\r\n    status () {\r\n      this.delStatus = this.status\r\n    }\r\n  },\r\n  methods: {\r\n    // 開啟 delModal\r\n    openDelete () {\r\n      this.modal.show()\r\n    },\r\n    // 關閉 delModal\r\n    hideDelete () {\r\n      this.modal.hide()\r\n    },\r\n    // 產品刪除\r\n    deleteData (id) {\r\n      if (this.delStatus === 'product') {\r\n        this.delApi = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/product/${id}`\r\n      } else if (this.delStatus === 'order') {\r\n        this.delApi = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/order/${id}`\r\n      }\r\n      const api = this.delApi\r\n      this.$http.delete(api).then((res) => {\r\n        // console.log(res)\r\n        if (res.data.success) {\r\n          alert(res.data.message)\r\n          this.$emit('delData')\r\n          this.hideDelete()\r\n        } else {\r\n          alert(res.data.message)\r\n        }\r\n      }).catch((err) => {\r\n        console.log(err)\r\n      })\r\n    }\r\n  },\r\n  mounted () {\r\n    this.modal = new Modal(this.$refs.modal)\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./DeleteModal.vue?vue&type=template&id=903febe6\"\nimport script from \"./DeleteModal.vue?vue&type=script&lang=js\"\nexport * from \"./DeleteModal.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}