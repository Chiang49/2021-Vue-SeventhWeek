{"version":3,"sources":["webpack:///./src/views/Login.vue?2876","webpack:///./src/views/Login.vue","webpack:///./src/views/Login.vue?e63b"],"names":["class","for","type","ref","signin","errors","id","name","placeholder","user","username","rules","password","data","methods","this","api","$http","post","then","res","success","alert","message","token","expired","document","cookie","$refs","form","resetForm","$router","push","catch","err","console","log","render"],"mappings":"gHAAA,W,4DCCOA,MAAM,a,GACJA,MAAM,2C,GAGFA,MAAM,Q,EACT,eAAgE,SAAzDC,IAAI,wBAAwBD,MAAM,cAAa,MAAE,G,GAcrDA,MAAM,Q,EACT,eAAiE,SAA1DC,IAAI,yBAAyBD,MAAM,cAAa,MAAE,G,EAa3D,eAAyD,UAAjDE,KAAK,SAASF,MAAM,mBAAkB,MAAE,G,wIAjCtD,eAoCM,MApCN,EAoCM,CAnCJ,eAkCM,MAlCN,EAkCM,CAjCJ,eAgCO,GAhCDG,IAAI,OAAOH,MAAM,aAAkC,SAAQ,EAAAI,Q,yBAE/D,gBAF4CC,EAE5C,EAF4CA,OAE5C,MAFkD,CAElD,eAaM,MAbN,EAaM,CAZJ,EACA,eASS,GARPC,GAAG,QACHN,MAAK,CAAC,eAAc,cAMIK,EAAO,QAL/BH,KAAK,QACLK,KAAK,KACLC,YAAY,e,WACH,EAAAC,KAAKC,S,qDAAL,EAAAD,KAAKC,SAAQ,IACtBC,MAAM,kB,+BAGR,eAAgE,GAAlDJ,KAAK,KAAKP,MAAM,uBAGhC,eAaM,MAbN,EAaM,CAZJ,EACA,eASS,GARPA,MAAK,CAAC,eAAc,cAOIK,EAAO,QAN/BC,GAAG,WACHJ,KAAK,WACLK,KAAK,KACLC,YAAY,Q,WACH,EAAAC,KAAKG,S,qDAAL,EAAAH,KAAKG,SAAQ,IACtBD,MAAM,kB,+BAGR,eAAgE,GAAlDJ,KAAK,KAAKP,MAAM,uBAEhC,M,uCAOO,GACba,KADa,WAEX,MAAO,CACLJ,KAAM,CACJC,SAAU,GACVE,SAAU,MAIhBE,QAAS,CACPV,OADO,WACG,WACFK,EAAOM,KAAKN,KACZO,EAAE,UAAO,wCAAP,gBACRD,KAAKE,MACFC,KAAKF,EAAKP,GACVU,MAAK,SAAAC,GAEJ,GAAIA,EAAIP,KAAKQ,QAAS,CACpBC,MAAMF,EAAIP,KAAKU,SACf,MAA2BH,EAAIP,KAAvBW,EAAR,EAAQA,MAAOC,EAAf,EAAeA,QACfC,SAASC,OAAT,gBAA2BH,EAA3B,qBAA6CC,GAC7C,EAAKG,MAAMC,KAAKC,YAChB,EAAKC,QAAQC,KAAK,wBAElBV,MAAMF,EAAIP,KAAKU,YAGlBU,OAAM,SAAAC,GACLC,QAAQC,IAAIF,S,UChEtB,EAAOG,OAASA,EAED,gB","file":"js/chunk-c5595842.9b40ea26.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Login.vue?vue&type=style&index=0&id=5bd1d1db&lang=scss\"","<template>\n  <div class=\"loginPage\">\n    <div class=\"container d-flex justify-content-center\">\n      <Form ref=\"form\" class=\"loginBlock\" v-slot=\"{ errors }\" @submit=\"signin\">\n        <!-- 帳號email -->\n        <div class=\"mb-2\">\n          <label for=\"formGroupExampleInput\" class=\"form-label\">帳號</label>\n          <Field\n            id=\"email\"\n            class=\"form-control\"\n            type=\"email\"\n            name=\"帳號\"\n            placeholder=\"請輸入 Email 帳號\"\n            v-model=\"user.username\"\n            rules=\"email|required\"\n            :class=\"{ 'is-invalid': errors['帳號'] }\"\n          ></Field>\n          <ErrorMessage name=\"帳號\" class=\"invalid-feedback\"></ErrorMessage>\n        </div>\n        <!-- 密碼 -->\n        <div class=\"mb-4\">\n          <label for=\"formGroupExampleInput2\" class=\"form-label\">密碼</label>\n          <Field\n            class=\"form-control\"\n            id=\"password\"\n            type=\"password\"\n            name=\"密碼\"\n            placeholder=\"請輸入密碼\"\n            v-model=\"user.password\"\n            rules=\"required|min:8\"\n            :class=\"{ 'is-invalid': errors['密碼'] }\"\n          ></Field>\n          <ErrorMessage name=\"密碼\" class=\"invalid-feedback\"></ErrorMessage>\n        </div>\n        <button type=\"submit\" class=\"btn btn-primary\">登入</button>\n      </Form>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data () {\n    return {\n      user: {\n        username: '',\n        password: ''\n      }\n    }\n  },\n  methods: {\n    signin () {\n      const user = this.user\n      const api = `${process.env.VUE_APP_API}admin/signin`\n      this.$http\n        .post(api, user)\n        .then(res => {\n          // console.log(res)\n          if (res.data.success) {\n            alert(res.data.message)\n            const { token, expired } = res.data\n            document.cookie = `token=${token}; expires=${expired}`\n            this.$refs.form.resetForm()\n            this.$router.push('/admin/products')\n          } else {\n            alert(res.data.message)\n          }\n        })\n        .catch(err => {\n          console.log(err)\n        })\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n.loginPage {\n  height: 100vh;\n  display: flex;\n  align-items: center;\n}\n.loginBlock {\n  border: 3px solid #aaa;\n  border-radius: 8px;\n  padding: 20px 35px;\n  h1 {\n    font-size: 1.75rem;\n    font-weight: bold;\n    color: #000;\n    margin-bottom: 20px;\n  }\n  .btn {\n    width: 100%;\n  }\n}\n</style>\n","import { render } from \"./Login.vue?vue&type=template&id=5bd1d1db\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\n\nimport \"./Login.vue?vue&type=style&index=0&id=5bd1d1db&lang=scss\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}